<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<menus>

<menu>
<title>[B][COLOR white]IPTV LOCAL[/COLOR][/B]</title>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
  <title>[B][COLOR white][makelist.param1] ([makelist.param2])[/COLOR][/B]</title>
  <link>$doregex[tvchannels]</link>
  <thumbnail>https://ip-tv.app/wp-content/uploads/2023/08/ip-tv.jpg</thumbnail>
  <fanart>https://it-doc.info/wp-content/uploads/2017/08/izobrajenie-zapisi.jpg</fanart>
]]></listrepeat>
<expres><![CDATA[(?s)first">\s+\S+\s+(\S+.*?)\s+<.*?(\d+).*?href="(https.*?)"]]></expres>
<page>$doregex[country]</page>
</regex>
<regex>
<name>country</name>
<expres><![CDATA[(?s)table-1(.*?)\/table]]></expres>
<page>https://ip-tv.app</page>
</regex>
<regex>
<name>tvchannels</name>
<listrepeat><![CDATA[
  <title>[B][COLOR white][tvchannels.param3][/COLOR]     [COLOR blue]([tvchannels.param2])[/COLOR][/B]</title>
  <link>[tvchannels.param4]</link>
  <thumbnail>[tvchannels.param1]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
import re, requests
def GetLSProData(page_data,Cookie_Jar,m):
  list = requests.get('[makelist.param3]').text
  data = re.findall('EXTINF.*tvg-id=".*?".*?logo="(https.*?)".*?group-title="(.*?)",(.*?)\n(http.*?)\n',list)
  return sorted(data, key=lambda match: match[2])
]]></expres>
<page></page>
</regex>
<thumbnail>https://ip-tv.app/wp-content/uploads/2023/08/ip-tv.jpg</thumbnail>
<fanart>https://it-doc.info/wp-content/uploads/2017/08/izobrajenie-zapisi.jpg</fanart>
</menu>



</menus>
